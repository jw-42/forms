# Nginx Service

Универсальный nginx сервис с автоматической настройкой SSL.

## Структура

- `Dockerfile` - Docker-образ для nginx
- `nginx.conf` - универсальная конфигурация
- `nginx-ssl-setup.sh` - скрипт автоматической настройки SSL

## Особенности

- Автоматическое определение окружения (dev/production)
- Динамическая настройка SSL при наличии сертификатов
- Graceful fallback на HTTP при отсутствии сертификатов
- Поддержка Docker с монтированием сертификатов из хоста

## Использование

Сервис интегрирован в основной docker-compose.yml и запускается автоматически.

### Development
```bash
docker compose up nginx
```

### Production
```bash
docker compose up nginx
# SSL настраивается автоматически при наличии сертификатов
```

## Конфигурация

- **HTTP**: порт 80
- **HTTPS**: порт 443 (только при наличии сертификатов)
- **Frontend**: прокси на порт 3000
- **Backend**: прокси на порт 8000

## SSL-сертификаты

Сертификаты монтируются из хоста:
```
/etc/letsencrypt/live/bugs-everywhere.ru/
```

При отсутствии сертификатов nginx работает только по HTTP. 