"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.overlayColors = void 0;
var color_1 = __importDefault(require("color"));
var expandColors_1 = require("./expandColors");
var mixColors_1 = require("./mixColors");
function overlayColors(background, foreground, state) {
    if (state === void 0) { state = 'normal'; }
    return function (theme) {
        var bgColor = (0, expandColors_1.expandColor)(background, theme);
        var fgColor = (0, expandColors_1.expandColor)(foreground, theme);
        var fgColorParsed = {
            normal: (0, color_1.default)(fgColor.normal),
            hover: (0, color_1.default)(fgColor.hover),
            active: (0, color_1.default)(fgColor.active),
        };
        return {
            normal: (0, mixColors_1.mixColors)(bgColor[state === 'auto' ? 'normal' : state], fgColorParsed.normal.rgb().string(), fgColorParsed.normal.alpha()),
            hover: (0, mixColors_1.mixColors)(bgColor[state === 'auto' ? 'hover' : state], fgColorParsed.hover.rgb().string(), fgColorParsed.hover.alpha()),
            active: (0, mixColors_1.mixColors)(bgColor[state === 'auto' ? 'active' : state], fgColorParsed.active.rgb().string(), fgColorParsed.active.alpha()),
        };
    };
}
exports.overlayColors = overlayColors;
