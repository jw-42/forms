"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractGeneralTokens = void 0;
/**
 * Процессор, который возвращает новый объект на основе описания темы (ThemeDescription),
 * в котором содержатся значения общие между Theme и Description
 *
 * Другими словами, процессор извлекает все токены которые находятся в ThemeGeneral
 *
 */
function extractGeneralTokens(themeDescription) {
    var copyDescription = JSON.parse(JSON.stringify(themeDescription));
    var tokens = Object.keys(themeDescription);
    // Разворачиваем токены-функции
    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {
        var token = tokens_1[_i];
        var tokenValue = themeDescription[token];
        if (typeof tokenValue === 'function') {
            copyDescription[token] = tokenValue;
        }
    }
    for (var _a = 0, tokens_2 = tokens; _a < tokens_2.length; _a++) {
        var token = tokens_2[_a];
        var tokenValue = copyDescription[token];
        if (typeof tokenValue === 'function') {
            copyDescription[token] = tokenValue(copyDescription);
        }
    }
    delete copyDescription.colors;
    delete copyDescription.colorsScheme;
    return copyDescription;
}
exports.extractGeneralTokens = extractGeneralTokens;
